(function(q){function h(a){var c="",b=null,e=0,c=null,d=[],l=0,m=!1,k=0;a+="\x00";for(var f=0;a.length>f;f++){var g=a[f];if("["==b){if("]"==g){var b=a.substring(e+1,f),e=b.indexOf("="),n,p="";-1==e?n=b:(n=b.substring(0,e),p=-1==e?"":b.substr(e+1));c.setAttribute(n,p);b=g;e=f}}else if("("==b){if("("==g?k++:")"==g&&k--,0==k){c=h(a.substring(e+1,f));d=a.substring(f+1);d=d.trim();if(">"==d[0])throw Error("Cannot appendChild here.");"+"==d[0]&&(d=d.substr(1));if(""==d)return c;c.nodeType&&(c=[c]);d=h(d);
if(d.nodeType)c.push(d);else for(;0<d.length;)c.push(d.shift());return c}}else if("'"==b||'"'==b)g==b&&(g=a.substring(e+1,f),c?c.textContent+=g:c=document.createTextNode(g),b="\x00",e=f);else if(("'"==g||'"'==g)&&""==a.substr(0,f).trim())b=g,e=f;else if("("==g)k=1,b=g,e=f;else if("#"==g||"."==g||"["==g||"]"==g||"\x00"==g||">"==g||"+"==g||"'"==g||'"'==g||"("==g||")"==g){b?"#"==b?c.id=a.substring(e+1,f).trim():"."==b&&c.classList.add(a.substring(e+1,f).trim()):(c=a.substr(0,f).trim(),b=c.indexOf("^"),
-1<b&&(m=!0,l=parseInt(c.substring(0,b))-1,c=c.substr(b+1)),c=document.createElement(c));if(">"==g){f=h(a.substring(f+1));if(f.nodeType)c.appendChild(f);else for(a=0;f.length>a;a++)c.appendChild(f[a]);break}else if("+"==g){m=!0;d.push(c);c=h(a.substr(f+1));if(!c.nodeType){for(a=0;c.length-1>a;a++)d.push(c[a]);c=c[c.length-1]}break}b=g;e=f}}d.push(c);f=[];for(a=0;d.length>a;a++)f.push(d[a]);for(;0!=l;--l)for(a=0;d.length>a;a++)f.push(d[a].cloneNode(!0));return m?f:c}h.stringify=function(a,c){var b=
"";"undefined"==typeof c&&(c=!0);if(!0===c){if(b=h.stringify(a,!1),0<a.childNodes.length){b+=">";if(1<a.childNodes.length)for(var e=0;a.childNodes.length-1>e;e++)b+="("+h.stringify(a.childNodes[e])+")+";b+=h.stringify(a.childNodes[a.childNodes.length-1])}}else if(!1===c){if(3==a.nodeType)return"'"+a.textContent+"'";if(1==a.nodeType){b+=a.tagName.toLowerCase();void 0!=b.id&&(b+="#"+b.id);if(a.className)for(var d=a.className.split(" "),e=0;d.length>e;e++)b+="."+d[e];if(a.attributes)for(e=0;a.attributes.length>
e;e++)d=a.attributes[e],"class"!=d.name&&"id"!=d.name&&(b+="["+d.name,d.value&&(b+="="+d.value),b+="]")}}return b};q.cE=h})(window);
