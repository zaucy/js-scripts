(function(q){function h(b){var a="",e=null,g=0,a=null,f=[],l=0,m=!1,k=0;b+="\x00";for(var c=0;b.length>c;c++){var d=b[c];if("["==e){if("]"==d){var e=b.substring(g+1,c),g=e.indexOf("="),n,p="";-1==g?n=e:(n=e.substring(0,g),p=-1==g?"":e.substr(g+1));a.setAttribute(n,p);e=d;g=c}}else if("("==e){if("("==d?k++:")"==d&&k--,0==k){a=h(b.substring(g+1,c));f=b.substring(c+1);f=f.trim();if(">"==f[0])throw Error("Cannot appendChild here.");"+"==f[0]&&(f=f.substr(1));if(""==f)return a;a.nodeType&&(a=[a]);f=h(f);
if(f.nodeType)a.push(f);else for(;0<f.length;)a.push(f.pop());return a}}else if("'"==e||'"'==e)d==e&&(d=b.substring(g+1,c),a?a.textContent+=d:a=document.createTextNode(d),e="\x00",g=c);else if(("'"==d||'"'==d)&&""==b.substr(0,c).trim())e=d,g=c;else if("("==d)k=1,e=d,g=c;else if("#"==d||"."==d||"["==d||"]"==d||"\x00"==d||">"==d||"+"==d||"'"==d||'"'==d||"("==d||")"==d){e?"#"==e?a.id=b.substring(g+1,c).trim():"."==e&&a.classList.add(b.substring(g+1,c).trim()):(a=b.substr(0,c).trim(),e=a.indexOf("^"),
-1<e&&(m=!0,l=parseInt(a.substring(0,e))-1,a=a.substr(e+1)),a=document.createElement(a));if(">"==d){c=h(b.substring(c+1));if(c.nodeType)a.appendChild(c);else for(b=0;c.length>b;b++)a.appendChild(c[b]);break}else if("+"==d){m=!0;f.push(a);a=h(b.substr(c+1));if(!a.nodeType){for(b=0;a.length-1>b;b++)f.push(a[b]);a=a[a.length-1]}break}e=d;g=c}}f.push(a);c=[];for(b=0;f.length>b;b++)c.push(f[b]);for(;0!=l;--l)for(b=0;f.length>b;b++)c.push(f[b].cloneNode(!0));return m?c:a}q.cE=h})(window);
